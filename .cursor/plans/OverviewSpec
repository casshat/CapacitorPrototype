# FitTrack Dev Handoff
## Overview Tab - Final Specification

---

# ğŸ¥‡ Component Breakdown with States

## 1. CollapsibleSection

**Component Name:** `CollapsibleSection`

**Props:**
| Prop | Type | Required | Description |
|------|------|----------|-------------|
| title | string | Yes | Section header text (e.g., "Goals", "Profile") |
| isExpanded | boolean | Yes | Current expanded state |
| onToggle | () => void | Yes | Toggle handler |
| children | ReactNode | Yes | Section content |

**States:**
| State | Behavior |
|-------|----------|
| Collapsed | Show title + chevron down icon only |
| Expanded | Show title + chevron up icon + children content |

**Notes:**
- Entire header is clickable
- Chevron animates on state change
- All sections start collapsed by default
- Uses ChevronUp/ChevronDown from Lucide (20px)

---

## 2. GoalEditor

**Component Name:** `GoalEditor`

**Props:**
| Prop | Type | Required | Description |
|------|------|----------|-------------|
| label | string | Yes | "Calories", "Protein", "Carbs", "Fat", "Steps", "Sleep" |
| value | number | Yes | Current goal value |
| unit | string | Yes | "kcal", "g", "steps", "hours" |
| onSave | (value: number) => void | Yes | Save handler |

**States:**
| State | Behavior |
|-------|----------|
| Default | Input shows current value, Save button disabled (grayed out) |
| Editing | User changes input, Save button enabled (accent color) |
| Saving | Show "Saving..." in button (if async), disable input |
| Saved | Flash green checkmark + "Saved" text for 2 seconds, then return to default |

**Layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Calories                         âœ“ Savedâ”‚ â† Green checkmark (temporary)
â”‚                                         â”‚
â”‚ [ 2000 ]  kcal                 [Save]  â”‚ â† Input + unit + button
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Notes:**
- Input: 16px font, 600 weight, bgInput background, borderInput border, 8px radius
- Save button: 14px text, 700 weight, 14px vertical padding, 24px horizontal padding
- Save button disabled: bgInput background, textTertiary color, 0.5 opacity
- Save button enabled: accent background, white text
- 28px margin between goal rows
- Checkmark: Lucide Check, 18px, strokeWidth 3, success color

---

## 3. ProfileField

**Component Name:** `ProfileField`

**Props:**
| Prop | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| label | string | Yes | â€” | "Age", "Height", "Weight" |
| value | number \| {feet: number, inches: number} | Yes | â€” | Field value |
| onChange | (val) => void | Yes | â€” | Change handler |
| unit | string | Conditional | â€” | "years", "lbs" (not used for height) |
| type | 'single' \| 'height' | No | 'single' | Input type |

**States:**
| State | Behavior |
|-------|----------|
| Default (single) | One input field with unit label |
| Default (height) | Two input fields: feet + inches |

**Layout (single input):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Age                                     â”‚
â”‚                                         â”‚
â”‚ [ 28 ]  years                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Layout (height):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Height                                  â”‚
â”‚                                         â”‚
â”‚ [ 5 ]  ft    [ 5 ]  in                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Notes:**
- Single input: 100px width, center-aligned text
- Height inputs: 80px width each, center-aligned text
- Same styling as GoalEditor inputs (bgInput, borderInput, 8px radius)
- 24px margin between profile fields

---

## 4. CycleField

**Component Name:** `CycleField`

**Props:**
| Prop | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| label | string | Yes | â€” | "Cycle Length", "Average Period Days", "Last Period Start Date" |
| value | number \| string | Yes | â€” | Field value |
| onChange | (val) => void | Yes | â€” | Change handler |
| unit | string | Conditional | â€” | "days" (not used for date) |
| type | 'number' \| 'date' | No | 'number' | Input type |

**States:**
| State | Behavior |
|-------|----------|
| Number input | 100px width, centered, shows unit label |
| Date input | Full width, left-aligned, no unit label |

**Layout (number):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cycle Length                            â”‚
â”‚                                         â”‚
â”‚ [ 28 ]  days                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Layout (date):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Last Period Start Date                  â”‚
â”‚                                         â”‚
â”‚ [ 2024-12-18                        ]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Notes:**
- Number inputs: 100px width, center-aligned
- Date input: flex: 1 (full width), left-aligned
- Same styling as other inputs (bgInput, borderInput, 8px radius)
- 24px margin between cycle fields

---

## 5. WeightChart

**Component Name:** `WeightChart`

**Props:**
| Prop | Type | Required | Description |
|------|------|----------|-------------|
| data | Array<{date: string, weight: number}> | Yes | Weight data points |
| days | '7d' \| '14d' \| '30d' | Yes | Time range filter |

**Computed:**
- Y-axis range: `min(data) - 2` to `max(data) + 2`
- 3 Y-axis labels: max, middle, min (rounded)
- 3 X-axis labels: first date, middle date, last date

**States:**
| State | Behavior |
|-------|----------|
| Loading | Show pulsing skeleton line |
| Empty (<2 points) | Show message: "Log weight for 2+ days to see trend" |
| Has Data (2-4 points) | Show line chart with Y-axis labels |
| Has Data (5+ points) | Show line chart with Y-axis labels |
| Error | Show "Unable to load chart" message |

**Layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 141 â”¼                        â—â”€â”€        â”‚ â† Y-axis labels (left)
â”‚     â”‚                  â—â”€â”€â—â”€             â”‚
â”‚ 138 â”¼           â—â”€â”€â”€â—â”€                  â”‚ â† Line only (no dots)
â”‚     â”‚      â—â”€â”€â—                          â”‚
â”‚ 135 â”¼â”€â”€â”€â”€â”€                               â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚     12/18        12/22          12/25   â”‚ â† X-axis labels
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Chart Specifications:**
- **Chart height:** 200px (plus 40px for labels)
- **Left padding:** 40px (for Y-axis labels)
- **Line:** 3px stroke width, gradient (gradientStart â†’ gradientEnd)
- **Line style:** Rounded joins (`strokeLinejoin: round`), rounded caps (`strokeLinecap: round`)
- **NO dots/circles on data points** â€” line only
- **Y-axis labels:** 12px font, textTertiary color, positioned at left edge
- **X-axis labels:** 12px font, textTertiary color, caption style
- **Gradient ID:** "lineGrad" (use same gradient as other charts)

**Notes:**
- Chart auto-scales Y-axis based on data
- Always show 3 Y-axis labels (max, mid, min) â€” rounded to whole numbers
- Always show 3 X-axis labels (first, middle, last date)
- Dates formatted as "MM/DD" (e.g., "12/25")

---

## 6. ChartRangeSelector

**Component Name:** `ChartRangeSelector` (or use native `<select>`)

**Props:**
| Prop | Type | Required | Description |
|------|------|----------|-------------|
| value | '7d' \| '14d' \| '30d' | Yes | Selected range |
| onChange | (value: string) => void | Yes | Change handler |

**States:**
| State | Behavior |
|-------|----------|
| Default | Show selected value in dropdown |
| Open | Show all 3 options |

**Options:**
- 7d (7 days)
- 14d (14 days)
- 30d (30 days)

**Styles:**
- labelMedium typography (14px, 600 weight)
- bgInput background, borderInput border
- 8px border radius
- 6px vertical padding, 12px left padding, 32px right padding (for chevron)
- ChevronDown icon positioned absolute at right (10px from edge)

---

## 7. QuickStatCard

**Component Name:** `QuickStatCard`

**Props:**
| Prop | Type | Required | Description |
|------|------|----------|-------------|
| label | string | Yes | "Avg Calories", "Avg Protein", "Avg Steps", "Avg Sleep" |
| average | number \| string | Yes | 7-day average value |
| goal | number \| string | Yes | Goal value |
| unit | string | Yes | "kcal", "g", "h", or empty string |

**States:**
| State | Behavior |
|-------|----------|
| Loading | Pulsing skeleton (gray bar) |
| Empty (<7 days logged) | Show "â€”" with "Need 7 days of data" subtext |
| Has Data | Show average, goal, progress bar |

**Layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Avg Calories               â”‚
â”‚                            â”‚
â”‚ 1,850      / 2,000 kcal   â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Notes:**
- Background: bgAccent (#FAF2EF)
- Padding: 20px
- Border radius: 8px
- Label: labelMedium, textSecondary
- Average: 24px font, 700 weight, textPrimary
- Goal: caption, textTertiary
- Progress bar: GradientProgressBar, 10px height
- Cards displayed in 2-column grid with 12px gap

---

# ğŸ¥ˆ Design Tokens / Style Guide

**See Dashboard handoff doc for complete design tokens.**

Key tokens for Overview tab:

```css
/* Colors */
--color-bg-primary: #FDF9F8;
--color-bg-surface: #FFFFFF;
--color-bg-accent: #FAF2EF;
--color-bg-input: #FAF8F7;
--color-border-default: #F0E8E4;
--color-border-input: #E5DDD8;
--color-text-primary: #2D2420;
--color-text-secondary: #6B5D54;
--color-text-tertiary: #9A8E86;
--color-accent: #C9907E;
--color-success: #6B8F64;
--color-gradient-start: #C9988A;
--color-gradient-end: #DBBEB4;

/* Spacing */
--section-padding: 24px;
--field-margin-bottom: 24px;
--goal-margin-bottom: 28px;
--grid-gap: 12px;

/* Border Radius */
--border-radius-default: 8px;
--border-radius-input: 8px;
```

---

# ğŸ¥‰ Screen Layout Specification

## Overview Tab Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 24px padding                                â”‚
â”‚                                             â”‚
â”‚  GOALS                              [v]    â”‚ â† Collapsed header
â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  PROFILE                            [v]    â”‚ â† Collapsed header
â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  CYCLE SETTINGS                     [v]    â”‚ â† Collapsed header
â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  WEIGHT TREND                      [7d â–¼]  â”‚ â† Section header
â”‚                                             â”‚
â”‚  141 â”¼                        â—â”€â”€          â”‚
â”‚      â”‚                  â—â”€â”€â—â”€               â”‚
â”‚  138 â”¼           â—â”€â”€â”€â—â”€                    â”‚ â† Line chart
â”‚      â”‚      â—â”€â”€â—                            â”‚
â”‚  135 â”¼â”€â”€â”€â”€â”€                                 â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚      12/18        12/22          12/25     â”‚
â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  7-DAY AVERAGES                             â”‚ â† Section header
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Avg Calories â”‚  â”‚ Avg Protein  â”‚        â”‚
â”‚  â”‚ 1,850/2,000  â”‚  â”‚ 110/120g     â”‚        â”‚ â† 2-col grid
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Avg Steps    â”‚  â”‚ Avg Sleep    â”‚        â”‚
â”‚  â”‚ 8.2k/10k     â”‚  â”‚ 7.3/8h       â”‚        â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘  â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    [âŠ]           [ï¼‹]           [ğŸ“Š]        â”‚ â† Tab bar
â”‚  Dashboard        Log         Overview      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Expanded Goals Section

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GOALS                              [^]    â”‚ â† Expanded header
â”‚                                             â”‚
â”‚  Calories                                   â”‚
â”‚  [ 2000 ]  kcal                    [Save]  â”‚
â”‚                                             â”‚ â† 28px gap
â”‚  Protein                                    â”‚
â”‚  [ 120 ]  g                        [Save]  â”‚
â”‚                                             â”‚
â”‚  Carbs                                      â”‚
â”‚  [ 250 ]  g                        [Save]  â”‚
â”‚                                             â”‚
â”‚  Fat                                        â”‚
â”‚  [ 65 ]  g                         [Save]  â”‚
â”‚                                             â”‚
â”‚  Steps                                      â”‚
â”‚  [ 10000 ]  steps                  [Save]  â”‚
â”‚                                             â”‚
â”‚  Sleep                                      â”‚
â”‚  [ 8 ]  hours                      [Save]  â”‚
â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
```

## Expanded Profile Section

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PROFILE                            [^]    â”‚ â† Expanded header
â”‚                                             â”‚
â”‚  Age                                        â”‚
â”‚  [ 28 ]  years                             â”‚
â”‚                                             â”‚ â† 24px gap
â”‚  Height                                     â”‚
â”‚  [ 5 ]  ft    [ 5 ]  in                    â”‚
â”‚                                             â”‚
â”‚  Weight                                     â”‚
â”‚  [ 138 ]  lbs                              â”‚
â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
```

## Expanded Cycle Settings Section

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CYCLE SETTINGS                     [^]    â”‚ â† Expanded header
â”‚                                             â”‚
â”‚  Cycle Length                               â”‚
â”‚  [ 28 ]  days                              â”‚
â”‚                                             â”‚ â† 24px gap
â”‚  Average Period Days                        â”‚
â”‚  [ 5 ]  days                               â”‚
â”‚                                             â”‚
â”‚  Last Period Start Date                     â”‚
â”‚  [ 2024-12-18                            ] â”‚
â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
```

---

# ğŸ¯ Mock Data for Prototype

```javascript
const mockOverviewData = {
  goals: {
    calories: 2000,
    protein: 120,
    carbs: 250,
    fat: 65,
    steps: 10000,
    sleep: 8,
  },
  profile: {
    age: 28,
    heightFeet: 5,
    heightInches: 5,
    weight: 138,
  },
  cycleSettings: {
    cycleLength: 28,
    averagePeriodDays: 5,
    lastPeriodStartDate: '2024-12-18',
  },
  weightHistory: [
    { date: '12/18', weight: 138.2 },
    { date: '12/20', weight: 139.1 },
    { date: '12/22', weight: 138.8 },
    { date: '12/24', weight: 138.5 },
    { date: '12/25', weight: 138.3 },
  ],
  sevenDayAverages: {
    calories: 1850,
    protein: 110,
    steps: 8234,
    sleep: 7.3,
  }
};
```

---

# ğŸ”„ Interaction Details

## Collapsible Section Behavior

1. User taps section header
2. Section expands/collapses with smooth animation (300ms ease)
3. Chevron icon rotates (ChevronDown â†” ChevronUp)
4. Other sections remain in their current state (independent toggling)
5. All sections start collapsed on tab load

## Goal Editing Flow

1. User sees current goal value in input (disabled save button)
2. User taps input field, keyboard appears (number input)
3. User changes value
4. Save button becomes enabled (accent color)
5. User taps Save
6. Button shows "Saving..." (optional if async)
7. On success: Green checkmark + "Saved" text appears next to label for 2 seconds
8. Input value updates, button returns to disabled state

## Profile & Cycle Field Editing

1. User changes value in input
2. No explicit save button â€” values save on blur/change (or add save button if needed)
3. Consider auto-save after 500ms debounce

## Chart Range Selection

1. User taps dropdown (shows "7d")
2. Dropdown opens with 3 options: 7d, 14d, 30d
3. User selects option
4. Chart re-renders with new data range
5. Dropdown closes and shows new selection

---

# ğŸ”§ Empty States

## No Weight Data (<2 entries)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Weight Trend                   [7d â–¼]â”‚
â”‚                                     â”‚
â”‚  Log weight for 2+ days to see     â”‚
â”‚  your trend chart                   â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Styling:**
- Center-aligned text
- bodyMedium typography (16px)
- textSecondary color
- 40px vertical padding

## Insufficient Data for Averages (<7 days)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7-Day Averages                      â”‚
â”‚                                     â”‚
â”‚  Log data for 7+ days to see        â”‚
â”‚  weekly averages                    â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Styling:**
- Same as weight chart empty state

---

# ğŸ“ Responsive Behavior

| Breakpoint | Width | Adjustments |
|------------|-------|-------------|
| Mobile | < 768px | 24px padding, single column, 2-col grid for stats |
| Tablet | 768px - 1024px | Max-width 600px centered |
| Desktop | > 1024px | Max-width 430px (iPhone width) centered |

---

# âœ… Dev Checklist

**Components:**
- [ ] Build CollapsibleSection component with smooth animation
- [ ] Build GoalEditor with save state and checkmark feedback
- [ ] Build ProfileField with single input variant
- [ ] Build ProfileField with height (feet + inches) variant
- [ ] Build CycleField with number and date variants
- [ ] Build WeightChart with Y-axis labels (NO dots, line only)
- [ ] Build ChartRangeSelector dropdown
- [ ] Build QuickStatCard component

**Data & State:**
- [ ] Set up state management for all 3 collapsible sections
- [ ] Set up state for goals (6 values)
- [ ] Set up state for profile (age, heightFeet, heightInches, weight)
- [ ] Set up state for cycle settings (3 values)
- [ ] Set up state for chart range (7d/14d/30d)
- [ ] Wire up goal save handlers with API
- [ ] Wire up profile save handlers with API
- [ ] Wire up cycle save handlers with API

**Charts & Visualization:**
- [ ] Implement WeightChart with proper Y-axis scaling
- [ ] Add Y-axis labels (3 labels: max, mid, min)
- [ ] Implement line rendering (gradient stroke, no dots)
- [ ] Add X-axis date labels (3 labels: start, mid, end)
- [ ] Wire up chart data filtering (7d/14d/30d)
- [ ] Calculate 7-day averages from historical data

**UX & Polish:**
- [ ] Add empty states for chart and averages
- [ ] Add save success feedback (green checkmark, 2s duration)
- [ ] Add smooth expand/collapse animations (300ms ease)
- [ ] Ensure all number inputs show keyboard on mobile
- [ ] Test date picker on iOS Safari
- [ ] Verify all collapsible sections start collapsed
- [ ] Test on iPhone 15 Pro (430px width)

**Integration:**
- [ ] Test with real API endpoints
- [ ] Handle loading states
- [ ] Handle error states
- [ ] Verify data persistence

---

# â“ Questions for Engineering

1. **Data Persistence:**
   - Should goals auto-save on change, or require explicit Save button?
   - Should profile/cycle fields auto-save, or require Save button?
   - Do we need "Cancel" functionality for goal editing?

2. **API Endpoints:**
   - What's the endpoint structure for saving goals? (e.g., PATCH /api/user/goals)
   - What's the endpoint for saving profile? (e.g., PATCH /api/user/profile)
   - What's the endpoint for saving cycle settings? (e.g., PATCH /api/user/cycle)
   - What's the endpoint for fetching weight history? (e.g., GET /api/weight?days=7)
   - What's the endpoint for fetching 7-day averages? (e.g., GET /api/stats/averages?days=7)

3. **Calculations:**
   - Should BMR/TDEE be calculated client-side or server-side?
   - Which BMR formula to use? (Mifflin-St Jeor recommended)
   - Where should calculated BMR/TDEE be displayed? (Dashboard in future iteration?)

4. **Chart Library:**
   - Which charting library should we use? Recommendations:
     - **Recharts** (React-friendly, declarative)
     - **D3.js** (more control, steeper learning curve)
     - **Custom SVG** (lightweight, full control)

5. **Validation:**
   - Min/max values for each field? (e.g., age 13-120, height 2-8 ft, weight 50-500 lbs)
   - Should cycle length be capped? (e.g., 21-45 days)
   - Should period days be capped? (e.g., 1-10 days)

6. **Section Persistence:**
   - Should we remember which sections were expanded in localStorage?
   - Or always start collapsed on page load?

---

# ğŸ“ File Structure (Suggested)

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ GradientProgressBar.tsx (reuse from Dashboard)
â”‚   â”‚   â”œâ”€â”€ Section.tsx (reuse from Dashboard)
â”‚   â”‚   â””â”€â”€ CollapsibleSection.tsx (NEW)
â”‚   â”œâ”€â”€ overview/
â”‚   â”‚   â”œâ”€â”€ GoalEditor.tsx
â”‚   â”‚   â”œâ”€â”€ ProfileField.tsx
â”‚   â”‚   â”œâ”€â”€ CycleField.tsx
â”‚   â”‚   â”œâ”€â”€ WeightChart.tsx
â”‚   â”‚   â”œâ”€â”€ ChartRangeSelector.tsx
â”‚   â”‚   â””â”€â”€ QuickStatCard.tsx
â”‚   â””â”€â”€ navigation/
â”‚       â””â”€â”€ TabBar.tsx (reuse from Dashboard)
â”œâ”€â”€ screens/
â”‚   â””â”€â”€ OverviewScreen.tsx
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useOverviewData.ts (data fetching & state management)
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ bmrCalculations.ts (BMR/TDEE formulas)
â””â”€â”€ types/
    â””â”€â”€ overview.ts
```

---

# ğŸ¨ Icon Reference

Using **Lucide React** for all icons.

| Icon | Import | Usage |
|------|--------|-------|
| ChevronDown | `import { ChevronDown } from 'lucide-react'` | Collapsed section indicator |
| ChevronUp | `import { ChevronUp } from 'lucide-react'` | Expanded section indicator |
| Check | `import { Check } from 'lucide-react'` | Save success feedback |

---

# ğŸ’¾ Data Schema (Recommended)

```typescript
// User Goals
interface UserGoals {
  calories: number;      // kcal
  protein: number;       // grams
  carbs: number;         // grams
  fat: number;           // grams
  steps: number;         // count
  sleep: number;         // hours
}

// User Profile
interface UserProfile {
  age: number;           // years
  heightFeet: number;    // feet
  heightInches: number;  // inches
  weight: number;        // lbs
}

// Cycle Settings
interface CycleSettings {
  cycleLength: number;           // days (typical: 21-45)
  averagePeriodDays: number;     // days (typical: 3-7)
  lastPeriodStartDate: string;   // ISO date format (YYYY-MM-DD)
}

// Weight History
interface WeightEntry {
  date: string;          // "MM/DD" format for display
  weight: number;        // lbs
}

// 7-Day Averages
interface SevenDayAverages {
  calories: number;
  protein: number;
  steps: number;
  sleep: number;
}
```

---

*Generated: December 2025*
*Questions? Ping the PM.*